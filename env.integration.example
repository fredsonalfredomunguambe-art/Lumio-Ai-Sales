# ========================================
# LUMIO INTEGRATIONS - Environment Variables
# ========================================
#
# Copy this file to .env.local and fill in your credentials
# NEVER commit .env.local to version control!
#

# ========================================
# HubSpot Integration
# ========================================
HUBSPOT_CLIENT_ID=your_client_id_here
HUBSPOT_CLIENT_SECRET=your_client_secret_here
HUBSPOT_REDIRECT_URI=https://app.lumio.com/api/integrations/hubspot/callback
HUBSPOT_ACCESS_TOKEN=pat-na1-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# HubSpot Webhook Secret (for signature verification)
HUBSPOT_WEBHOOK_SECRET=your_webhook_secret_here

# ========================================
# WhatsApp Business Integration
# ========================================
WHATSAPP_ACCESS_TOKEN=your_whatsapp_access_token
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id
WHATSAPP_BUSINESS_ACCOUNT_ID=your_business_account_id
WHATSAPP_WEBHOOK_VERIFY_TOKEN=your_verification_token
WHATSAPP_APP_SECRET=your_app_secret

# ========================================
# Shopify Integration
# ========================================
SHOPIFY_API_KEY=your_api_key
SHOPIFY_API_SECRET=your_api_secret
SHOPIFY_SHOP_DOMAIN=your-store.myshopify.com
SHOPIFY_ACCESS_TOKEN=shpat_xxxxxxxxxxxxxxxxxxxxxxxxxxxx
SHOPIFY_SCOPES=read_products,write_products,read_orders,write_orders,read_customers

# ========================================
# Salesforce Integration
# ========================================
SALESFORCE_CLIENT_ID=your_consumer_key
SALESFORCE_CLIENT_SECRET=your_consumer_secret
SALESFORCE_REDIRECT_URI=https://app.lumio.com/api/integrations/salesforce/callback
SALESFORCE_USERNAME=your_username
SALESFORCE_PASSWORD=your_password
SALESFORCE_SECURITY_TOKEN=your_security_token
SALESFORCE_LOGIN_URL=https://login.salesforce.com

# ========================================
# Mailchimp Integration
# ========================================
MAILCHIMP_API_KEY=your_api_key-us1
MAILCHIMP_SERVER_PREFIX=us1
MAILCHIMP_CLIENT_ID=your_client_id
MAILCHIMP_CLIENT_SECRET=your_client_secret

# ========================================
# Slack Integration
# ========================================
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_APP_TOKEN=xapp-your-app-token
SLACK_SIGNING_SECRET=your_signing_secret
SLACK_CLIENT_ID=your_client_id
SLACK_CLIENT_SECRET=your_client_secret
SLACK_REDIRECT_URI=https://app.lumio.com/api/integrations/slack/callback

# ========================================
# LinkedIn Integration
# ========================================
LINKEDIN_CLIENT_ID=your_client_id
LINKEDIN_CLIENT_SECRET=your_client_secret
LINKEDIN_REDIRECT_URI=https://app.lumio.com/api/integrations/linkedin/callback

# ========================================
# Pipedrive Integration
# ========================================
PIPEDRIVE_API_TOKEN=your_api_token
PIPEDRIVE_COMPANY_DOMAIN=your-company.pipedrive.com

# ========================================
# Infrastructure
# ========================================

# Redis (for cache and queues)
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Database (already configured in main .env)
# DATABASE_URL=...

# Encryption
ENCRYPTION_KEY=your-32-character-encryption-key-here-change-this

# ========================================
# Monitoring & Observability
# ========================================

# Sentry (Error Tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus (Metrics)
PROMETHEUS_PORT=9090
METRICS_ENABLED=true

# ========================================
# Rate Limiting Configuration
# ========================================

# Override default rate limits (optional)
# HUBSPOT_RATE_LIMIT_TIER=hubspot-paid  # use paid tier limits
# SLACK_RATE_LIMIT_TIER=slack-tier4     # use tier 4 limits

# ========================================
# Cache Configuration
# ========================================

# Cache TTLs in seconds (optional, defaults are set in code)
CACHE_DEFAULT_TTL=900       # 15 minutes
CACHE_L2_TTL=1800          # 30 minutes

# L1 Cache (In-Memory)
CACHE_L1_MAX_SIZE=500
CACHE_L1_ENABLED=true

# L2 Cache (Redis)
CACHE_L2_ENABLED=true

# ========================================
# Webhook Configuration
# ========================================

# Base URL for webhook endpoints
WEBHOOK_BASE_URL=https://app.lumio.com

# Webhook signature tolerance (seconds)
WEBHOOK_TIMESTAMP_TOLERANCE=300  # 5 minutes

# ========================================
# Queue Configuration (BullMQ)
# ========================================

# Queue settings
QUEUE_CONCURRENCY=5
QUEUE_MAX_ATTEMPTS=3
QUEUE_BACKOFF_DELAY=2000  # milliseconds

# ========================================
# Development/Debug
# ========================================

# Enable debug logging
DEBUG=lumio:integrations:*
LOG_LEVEL=info  # error, warn, info, debug

# Disable rate limiting in development (NOT for production!)
# DISABLE_RATE_LIMITING=false

# Use sandbox APIs (if available)
# USE_SANDBOX=true

# ========================================
# Feature Flags
# ========================================

# Enable/disable specific integrations
INTEGRATION_HUBSPOT_ENABLED=true
INTEGRATION_WHATSAPP_ENABLED=true
INTEGRATION_SHOPIFY_ENABLED=true
INTEGRATION_SALESFORCE_ENABLED=true
INTEGRATION_MAILCHIMP_ENABLED=true
INTEGRATION_SLACK_ENABLED=true
INTEGRATION_LINKEDIN_ENABLED=false  # Limited API
INTEGRATION_PIPEDRIVE_ENABLED=true

# Enable webhooks
WEBHOOKS_ENABLED=true

# Enable caching
CACHING_ENABLED=true

# Enable retry
RETRY_ENABLED=true

# ========================================
# Security
# ========================================

# API Key for Lumio REST API
LUMIO_API_KEY=your_lumio_api_key_here

# Allowed CORS origins (comma-separated)
CORS_ORIGINS=https://app.lumio.com,http://localhost:3000

# ========================================
# Notes
# ========================================
#
# 1. Never commit this file with real credentials
# 2. Use different credentials for development and production
# 3. Rotate credentials regularly (every 90 days recommended)
# 4. Keep backup of production credentials in secure vault
# 5. Test all integrations in sandbox before production
#
# For more info, see:
# - docs/integrations/HUBSPOT_INTEGRATION.md
# - docs/INTEGRATIONS_MASTER_DOCUMENTATION.md
#

